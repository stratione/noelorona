---
import BaseLayout from "../layouts/BaseLayout.astro";
import Section from "../components/Section.astro";
import { SITE } from "../consts";
import { profile } from "../data/profile";

const siteUrl = Astro.site ?? new URL(SITE.siteUrl);

const structuredData = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Person",
      "@id": "#person",
      name: profile.name,
      url: siteUrl.href,
      sameAs: [profile.publications.scholarUrl]
    },
    {
      "@type": "ContactPage",
      name: "Contact",
      description: "Contact form and resume request for Dr. Noe Lorona.",
      url: new URL("/contact", siteUrl).href
    }
  ]
};
---
<BaseLayout
  title="Contact"
  description="Contact form and resume request for Dr. Noe Lorona."
  structuredData={structuredData}
>
  <header class="mb-8">
    <p class="text-xs uppercase tracking-[0.3em] text-slate">Contact</p>
    <h1 class="mt-2 text-3xl font-semibold text-ink">Contact</h1>
    <p class="mt-2 text-slate">
      Submit collaboration inquiries, speaking requests, or resume access requests.
    </p>
  </header>

  <Section id="contact" eyebrow="Contact" title="Contact & Resume Requests">
    <div>
      <form
        class="rounded-2xl border border-slate/10 bg-haze/80 p-6"
        method="post"
        action="https://formspree.io/f/your-form-id"
      >
        <p class="text-sm text-slate">
          Use this form for collaboration inquiries, speaking requests, or resume access.
        </p>
        <div class="mt-4 space-y-3">
          <label class="block text-xs uppercase tracking-[0.2em] text-slate" for="name">
            Name
          </label>
          <input
            id="name"
            name="name"
            type="text"
            class="w-full rounded-lg border border-slate/30 bg-parchment/5 px-3 py-2 text-sm text-ink focus:outline-none focus:ring-2 focus:ring-marigold/60"
            required
          />

          <label class="block text-xs uppercase tracking-[0.2em] text-slate" for="email">
            Email
          </label>
          <input
            id="email"
            name="email"
            type="email"
            class="w-full rounded-lg border border-slate/30 bg-parchment/5 px-3 py-2 text-sm text-ink focus:outline-none focus:ring-2 focus:ring-marigold/60"
            required
          />

          <label class="block text-xs uppercase tracking-[0.2em] text-slate" for="message">
            Message
          </label>
          <textarea
            id="message"
            name="message"
            rows="5"
            class="w-full rounded-lg border border-slate/30 bg-parchment/5 px-3 py-2 text-sm text-ink focus:outline-none focus:ring-2 focus:ring-marigold/60"
            required
          ></textarea>

          <label class="flex items-center gap-2 text-sm text-slate">
            <input type="checkbox" name="request_resume" class="accent-marigold" />
            Request a resume copy
          </label>
        </div>
        <button
          type="submit"
          class="mt-4 rounded-full bg-marigold px-4 py-2 text-sm font-semibold text-parchment shadow-soft"
        >
          Send message
        </button>
        <p class="mt-3 text-xs text-slate">
          Replace the form action URL with your preferred form provider.
        </p>
      </form>

    </div>
  </Section>
</BaseLayout>
